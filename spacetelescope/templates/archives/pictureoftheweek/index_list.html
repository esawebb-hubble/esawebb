{% load i18n %}{% load djangoplicity_utils %}{% load djangoplicity_datetime %}
{% include "archives/release/extra_header.html" %}
{% if not object_list %}
    <div align="center">{% trans "No press releases were found." %}</div>
{% else %}
{% include "archives/search_results.html" %}

{% for row in object_list|split_list:4 %}
<div class="row news-list">
    {% for potw in row %}
    <div class="col-md-3 col-sm-6 col-xs-12">
        <a href="{{ potw.get_absolute_url }}">
            <div class="news-wrapper box-image shadow  border">
                <div class="news-image">
                    {% if potw.image %}
                        <img class="w-100" style="height: 200px; object-fit: cover;" src="{{ potw.image.resource_thumb350x.url }}">
                    {% elif potw.video %}
                        <img class="w-100" style="height: 200px; object-fit: cover;" src="{{ potw.video.resource_thumb350x.url }}">
                    {% elif potw.comparison %}
                        <img class="w-100" style="height: 200px; object-fit: cover;" src="{{ potw.comparison.resource_thumb350x.url }}">
                    {% endif %}
                </div>
                <div class="news-description pb-3">
                    <div class="news-id mx-2">{{ potw.id }} â€” {% trans "Picture of the Month" %}</div>
                    {% if potw.image %}
                        <div class="news-title h6 text-uppercase text-primary mx-2" style="height: 60px;">{{ potw.image.title }}</div>
                    {% elif potw.video %}
                        <div class="news-title h6 text-uppercase text-primary mx-2" style="height: 60px;">{{ potw.video.title }}</div>
                    {% elif potw.comparison %}
                        <div class="news-title h6 text-uppercase text-primary mx-2" style="height: 60px;">{{ potw.comparison.title }}</div>
                    {% endif %}
                    {% if potw.image %}
                        <div class="news-teaser small text-uppercase text-muted mx-2" style="height: 350px; overflow: hidden; text-overflow: ellipsis;"><strong>{{ potw.release_date|datetime:"DATE" }}</strong>: {{ potw.image.description|safe|striptags|truncatewords:150 }}</div>
                    {% elif potw.video %}
                        <div class="news-teaser small text-uppercase text-muted mx-2" style="height: 350px; overflow: hidden; text-overflow: ellipsis;"><strong>{{ potw.release_date|datetime:"DATE" }}</strong>: {{ potw.video.description|safe|striptags|truncatewords:150 }}</div>
                    {% elif potw.comparison %}
                        <div class="news-teaser small text-uppercase text-muted mx-2" style="height: 350px; overflow: hidden; text-overflow: ellipsis;"><strong>{{ potw.release_date|datetime:"DATE" }}</strong>: {{ potw.comparison.description|safe|striptags|truncatewords:150 }}</div>
                    {% endif %}
                </div>
                <div class="news-readmore btn btn-outline-primary mx-auto text-center">{% trans "Read more" %}</div>
            </div> <!-- news-wrapper -->
        </a>
    </div>
    {% endfor %}
</div>
{% endfor %}
{% paginator paginator page_obj paginator_url paginator_prefix paginator_params %}
{% statusbar paginator page_obj browsers searchable search_url search_str  %}
{% endif %}
{% include 'archives/extra_footer.html' %}
