{% load i18n %}
{% load djangoplicity_images %}
{% include 'archives/embargo_notice.html' %}
<h1 class="my-3">{{ object.title }}</h1>

{% if object.resource_screen and object.resource_publicationjpg and object.fov_x == 360 and object.fov_y == 180 %}
    <script src="//storage.googleapis.com/vrview/2.0/build/vrview.min.js"></script>
    <div id="vrview"></div>

    <script>
    window.addEventListener('load', onVrViewLoad)
    function onVrViewLoad() {
        var vrView = new VRView.Player('#vrview', {
            preview: '{{ object.resource_screen.url }}',
            image: '{{ object.resource_publicationjpg.url }}',
            width: '100%',
            height: '400px'
        });
    }
    </script>

{% endif %} 


<div class="modal fade "  id="image-modal" tabindex="-1" aria-labelledby="image-modal" aria-hidden="true">
    <div class="modal-dialog modal-xl">
    <div class="modal-content" style="background: none; border: none;">
        <div class="modal-header" style="border: none;">
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <img src="https://cdn.spacetelescope.org/archives/images/screen/{{object.pk}}.jpg" class="w-100" style="height: 70vh; object-fit: cover;">
        </div>
        <div class="modal-footer" style="border: none;">
        <p class="text-white">{{ object.title }}</p>
        </div>
    </div>
    </div>
</div>

<div class="bg-image hover-overlay ripple shadow-1-strong rounded my-3 px-1" data-ripple-color="light">
    <a class="" data-bs-toggle="modal" data-bs-target="#image-modal">
        <img src="https://cdn.spacetelescope.org/archives/images/screen/{{object.pk}}.jpg" class="w-100"
            style="height: 500px; object-fit: cover;" />
    </a>
</div>

{% if object.headline %}<p>{{ object.headline }}</p>{% endif %}
<p>{{ object.description|safe }}</p>
<strong>{% trans "Credit" %}:</strong><div class="credit">{{ object.credit|safe }}</div>
{% include 'archives/image/extra_footer.html' %}
