{% load i18n %}{% load djangoplicity_utils %}
{% if not object_list %}
    <div align="center">{% trans "No images were found." %}</div>
{% else %}
{% include "archives/search_results.html" %}

{% spaceless %}

<script>
var images = [
    {% for image in object_list %}{% if image.width and image.height %}
    {
        id: '{{ image.pk }}',
        title: '{{ image.title }}',
        width: {{ image.width }},
        height: {{ image.height }},
        src: '{{ image.resource_thumb300y.url }}',
        url: '{{ image.get_absolute_url }}',
        potw: '{% if image.pictureoftheweek_set.all %}{{ image.pictureoftheweek_set.all.0.release_date|date:"DATE_FORMAT" }}{% endif %}'
    },
    {% endif %}{% endfor %}
];
</script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D" crossorigin="anonymous" async></script>

<div class="row" data-masonry='{"percentPosition": true }'>
    {% for image in object_list %}
            <div class="col-sm-6 col-md-4 col-lg-3" data-ripple-color="light">
                <a href="{{ image.get_absolute_url }}" data-mdb-toggle="modal" data-mdb-target="#ImageModal">
                    <img src="https://cdn.esawebb.org/archives/images/banner1920/{{ image.pk }}.jpg" class="w-100"
                    style="height: 300px; object-fit: cover;" /></a>
                <span class="p-3">{{ image.title }}</span>
            </div>
    {% endfor %}
</div>


{% endspaceless %}
{% paginator paginator page_obj paginator_url paginator_prefix paginator_params %}
{% statusbar paginator page_obj browsers searchable search_url search_str  %}
{% endif %}
{% include 'archives/extra_footer.html' %}
